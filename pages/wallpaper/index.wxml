<wxs module="helper">
  var oddEven = function(items, type) {
    return items.filter(function (item, i) {
      if (type === 'odd') {
        return i % 2 === 0 && item.post
      }
      return i % 2 !== 0 && item.post
    })
  }
  module.exports.oddEven = oddEven
</wxs>

<scroll-view
  scroll-y
  scroll-with-animation
  enable-back-to-top
  bindscrolltolower="onScrollBottom"
  bindscroll="onScroll"
  scroll-top="{{scrollTop}}"
>
  <view class="main">
    <view>
      <image
        wx:for="{{helper.oddEven(items, 'odd')}}"
        wx:key="index"
        mode="widthFix"
        src="{{item.media_details.sizes.thumbnail.source_url}}"
        data-src="{{item.media_details.sizes.full.source_url}}"
        bindtap="onTap"
      />
    </view>
    <view>
      <image
        wx:for="{{helper.oddEven(items, 'even')}}"
        wx:key="index"
        mode="widthFix"
        src="{{item.media_details.sizes.thumbnail.source_url}}"
        data-src="{{item.media_details.sizes.full.source_url}}"
        bindtap="onTap"
      />
    </view>
  </view>
</scroll-view>
